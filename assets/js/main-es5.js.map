{"version":3,"sources":["main.js"],"names":["get_base_url","localhost","location","hostname","$","document","ready","popover","placement","container","trigger","html","unveil","onload","removeClass","on","e","preventDefault","tooltip","btn","window","scroll","scrollTop","addClass","distance","speed","duration","animate","carouselContainers","querySelectorAll","i","length","initCarouselContainer","carousel","querySelector","flkty","Flickity","prevNextButtons","pageDots","freeScroll","contain","previousButton","addEventListener","previous","nextButton","next","cw","width","css","objects","getElementsByClassName","Array","from","map","item","img","Image","matchMedia","matches","src","dataset","tablet","classList","remove","nodeName","style","backgroundImage","$el","$ps","$up","totalHeight","click","margin","$p","parent","find","each","outerHeight","parseInt","height","fadeOut","ajax","url","type","data","serialize","dataType","success","ac","hide","show","error","err","console","log","array","val","split","match","join","reverse","regex","RegExp","filter","test","text"],"mappings":"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","sourcesContent":["/*\r\n################\r\n               FUNCTION IF LOCALHOST\r\n################\r\n*/\r\nfunction get_base_url() {\r\n  var localhost = 'http://localhost/datan';\r\n  if (location.hostname === \"localhost\" || location.hostname === \"127.0.0.1\") {\r\n    return localhost;\r\n  } else {\r\n    return 'https://datan.fr';\r\n  }\r\n}\r\n/*\r\n################\r\n                A TRIER\r\n################\r\n*/\r\n\r\n$(document).ready(function () {\r\n  // popover\r\n  $(\"[data-toggle=popover]\").popover({\r\n    placement: 'top',\r\n    container: 'body',\r\n    trigger: 'focus',\r\n    html: true\r\n  });\r\n\r\n  $(\".img-lazy\").unveil(200, function () {\r\n    this.onload = function () {\r\n      $(this).removeClass(\"placeholder\")\r\n    }\r\n  });\r\n});\r\n\r\n$(function () {\r\n  // prevents jumping\r\n  $(\"a.pop-me-over\").on(\"click\", function (e) {\r\n    e.preventDefault();\r\n    return true;\r\n  });\r\n  $(\".pop-me-over\").popover();\r\n});\r\n\r\n$(function () {\r\n  $('[data-toggle=\"tooltip\"]').tooltip()\r\n})\r\n\r\n/*\r\n################\r\n               Button UP\r\n################\r\n*/\r\n\r\nvar btn = $('#btnup');\r\n\r\n$(window).scroll(function () {\r\n  if ($(window).scrollTop() > 300) {\r\n    btn.addClass('show');\r\n  } else {\r\n    btn.removeClass('show');\r\n  }\r\n});\r\n\r\nbtn.on('click', function (e) {\r\n  e.preventDefault();\r\n  var distance = $(window).scrollTop();\r\n  var speed = 2;\r\n  var duration = $(window).scrollTop() / speed;\r\n  $('html, body').animate({\r\n    scrollTop: 0\r\n  }, 2000, 'swing'); // for all browsers\r\n});\r\n\r\n/*\r\n################\r\n               Collapse button\r\n################\r\n*/\r\n$(document).ready(function () {\r\n  $(\"#collapseProximity\").on(\"hide.bs.collapse\", function () {\r\n    $(\"#btn-ranking\").html('Voir tout le classement');\r\n  });\r\n  $(\"#collapseProximity\").on(\"show.bs.collapse\", function () {\r\n    $(\"#btn-ranking\").html('Fermer');\r\n  });\r\n});\r\n\r\n/*\r\n################\r\n               Flickity\r\n################\r\n*/\r\n\r\n// init Flickity\r\n// external js: flickity.pkgd.js\r\nvar carouselContainers = document.querySelectorAll('.carousel-container');\r\n\r\nfor ( var i=0; i < carouselContainers.length; i++ ) {\r\n  var container = carouselContainers[i];\r\n  initCarouselContainer( container );\r\n}\r\n\r\nfunction initCarouselContainer( container ) {\r\n  var carousel = container.querySelector('.carousel-cards');\r\n  var flkty = new Flickity( carousel, {\r\n    prevNextButtons: false,\r\n    pageDots: false,\r\n    freeScroll: true,\r\n    contain: true\r\n  } );\r\n  var previousButton = container.querySelector('.carousel--prev');\r\n  previousButton.addEventListener('click', function () {\r\n    flkty.previous();\r\n  });\r\n  var nextButton = container.querySelector('.carousel--next');\r\n  nextButton.addEventListener('click', function () {\r\n    flkty.next();\r\n  });\r\n\r\n}\r\n\r\n/*\r\n################\r\n                no-img (votes controller)\r\n################\r\n*/\r\n\r\nvar cw = $('.no-img').width();\r\n$('.no-img').css({ 'height': cw + 'px' });\r\n\r\n/*\r\n################\r\n                async_home\r\n################\r\n*/\r\n\r\n(() => {\r\n  'use strict';\r\n  // Page is loaded\r\n  const objects = document.getElementsByClassName('async_home');\r\n  Array.from(objects).map((item) => {\r\n    // Start loading image\r\n    const img = new Image();\r\n    if (window.matchMedia(\"(max-width: 575.98px)\").matches) {\r\n      /*img.src = item.dataset.mobile;\r\n      img.onload = () => {\r\n        item.classList.remove('async_background');\r\n        return item.nodeName === 'IMG' ?\r\n          item.src = item.dataset.src :\r\n          item.style.backgroundImage = `linear-gradient(130deg, rgba(0, 183, 148, 0.7) 0.65%, rgba(36, 107, 150, 0.7) 112%), url(${item.dataset.mobile})`\r\n      }; */\r\n    } else if (window.matchMedia(\"(max-width: 970px)\").matches) {\r\n      // Once image is loaded replace the src of the HTML element\r\n      img.src = item.dataset.tablet;\r\n      img.onload = () => {\r\n        item.classList.remove('async_home');\r\n        return item.nodeName === 'IMG' ?\r\n          item.src = item.dataset.src :\r\n          item.style.backgroundImage = `linear-gradient(130deg, rgba(0, 183, 148, 0.7) 0.65%, rgba(36, 107, 150, 0.7) 112%), url(${item.dataset.tablet})`\r\n      };\r\n    } else {\r\n      // Once image is loaded replace the src of the HTML element\r\n      img.src = item.dataset.src;\r\n      img.onload = () => {\r\n        item.classList.remove('async_home');\r\n        return item.nodeName === 'IMG' ?\r\n          item.src = item.dataset.src :\r\n          item.style.backgroundImage = `linear-gradient(130deg, rgba(0, 183, 148, 0.7) 0.65%, rgba(36, 107, 150, 0.7) 112%), url(${item.dataset.src})`\r\n      };\r\n    }\r\n\r\n  });\r\n})();\r\n\r\n/*\r\n################\r\n                Read more\r\n################\r\n*/\r\n\r\n$(function () {\r\n\r\n  var $el, $ps, $up, totalHeight;\r\n\r\n  $(\".read-more-container .btn\").click(function () {\r\n\r\n    // IE 7 doesn't even get this far. I didn't feel like dicking with it.\r\n\r\n    totalHeight = 0;\r\n    var margin = 0;\r\n    $el = $(this);\r\n    let $p = $el.parent();\r\n    $up = $p.parent();\r\n    $ps = $up.find(\"p:not('.read-more-button')\");\r\n\r\n    // measure how tall inside should be by adding together heights of all inside paragraphs (except read-more paragraph)\r\n    $ps.each(function () {\r\n      totalHeight += $(this).outerHeight();\r\n      margin = parseInt($(this).css(\"margin-bottom\"), 10);\r\n      totalHeight = totalHeight + margin;\r\n    });\r\n\r\n    totalHeight = totalHeight - margin;\r\n\r\n    $up\r\n      .css({\r\n        // Set height to prevent instant jumpdown when max height is removed\r\n        \"height\": $up.height(),\r\n        \"max-height\": 9999\r\n      })\r\n      .animate({\r\n        \"height\": totalHeight\r\n      });\r\n\r\n    // fade out read-more\r\n    $p.fadeOut();\r\n\r\n    // prevent jump-down\r\n    return false;\r\n\r\n  });\r\n\r\n});\r\n\r\n\r\n/*\r\n##########\r\nNEWSLETTER (MODAL)\r\n##########\r\n*/\r\n// Neweletter in header\r\n$('#newsletterForm').on('submit', (e) => {\r\n  e.preventDefault();\r\n  $.ajax({\r\n    url: get_base_url() + \"/api/newsletter/create_newsletter\", \r\n    type: \"POST\",\r\n    data: $('#newsletterForm').serialize(),\r\n    dataType: 'json',\r\n    success: function (ac) {\r\n      if (!ac) {\r\n        $('#newsletterForm').hide();\r\n        $('#modalFail').show();\r\n      } else {\r\n        $('#newsletterForm').hide();\r\n        $('#modalSubscription').show();\r\n      }\r\n    },\r\n    error: function (err) {\r\n      console.log('err', err)\r\n      $('#newsletterForm').hide();\r\n      $('#modalFail').show();\r\n    }\r\n  });\r\n  return true;\r\n})\r\n// Newsletter on datan.fr/newsletter page\r\n$('#newsletterPage').on('submit', (e) => {\r\n  e.preventDefault();\r\n  $.ajax({\r\n    url: get_base_url() + \"/api/newsletter/create_newsletter\",\r\n    type: \"POST\",\r\n    data: $('#newsletterPage').serialize(),\r\n    dataType: 'json',\r\n    success: function (ac) {\r\n      if (!ac) {\r\n        $('#newsletterFailed').removeClass(\"d-none\");\r\n      } else {\r\n        $('#newsletterSuccess').removeClass(\"d-none\");\r\n      }\r\n    },\r\n    error: function (err) {\r\n      console.log('err', err)\r\n      $('#newsletterFailed').removeClass(\"d-none\");\r\n    }\r\n  });\r\n  return true;\r\n})\r\n\r\n/*\r\n##########\r\nVOTE DATAN REQUESTED (MODAL)\r\n##########\r\n*/\r\n$('#voteDatanRequestedForm').on('submit', (e) => {\r\n  e.preventDefault();\r\n  $.ajax({\r\n    url: get_base_url() + \"/api/votes/request_vote_datan\",\r\n    type: \"POST\",\r\n    data: $('#voteDatanRequestedForm').serialize(),\r\n    dataType: 'json',\r\n    success: function (ac) {\r\n      if (!ac) {\r\n        $('#voteDatanRequestedForm').hide();\r\n        $('#fail').show();\r\n      } else {\r\n        $('#voteDatanRequestedForm').hide();\r\n        $('#success').show();\r\n      }\r\n    },\r\n    error: function (err) {\r\n      console.log('err', err)\r\n      $('#voteDatanRequestedForm').hide();\r\n      $('#fail').show();\r\n    }\r\n  });\r\n  return true;\r\n})\r\n/*\r\n##########\r\nFAQ\r\n##########\r\n*/\r\n$('#searchfaq').on('keyup', function (e) {\r\n  $(\".card-question\").hide();\r\n  var array = $(this).val().split(\" \");\r\n  var match = \"(?:\" + array.join(\".*\") + \"|\";\r\n  array.reverse();\r\n  match += array.join(\".*\") + \")\";\r\n  var regex = new RegExp(match, 'i');\r\n\r\n  $(\".card-question\").filter(function () {\r\n    return regex.test($(this).text());\r\n  }).show();\r\n\r\n})\r\n"],"file":"main-es5.js"}