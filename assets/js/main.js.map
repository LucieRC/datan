{"version":3,"sources":["main.js"],"names":["$","document","ready","popover","placement","container","trigger","html","unveil","on","e","preventDefault","tooltip","btn","window","scroll","scrollTop","addClass","removeClass","distance","speed","duration","animate","$carousel","flickity","prevNextButtons","pageDots","freeScroll","contain","flkty","data","cw","width","css","objects","getElementsByClassName","Array","from","map","item","img","Image","matchMedia","matches","src","dataset","tablet","onload","classList","remove","nodeName","style","backgroundImage","mobile","$el","$ps","$up","totalHeight","click","$p","parent","find","each","outerHeight","margin","parseInt","height","fadeOut"],"mappings":";;AAAAA,CAAC,CAACC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAU;AAC1B;AACAF,EAAAA,CAAC,CAAC,uBAAD,CAAD,CAA2BG,OAA3B,CAAmC;AACjCC,IAAAA,SAAS,EAAE,KADsB;AAEjCC,IAAAA,SAAS,EAAE,MAFsB;AAGjCC,IAAAA,OAAO,EAAE,OAHwB;AAIjCC,IAAAA,IAAI,EAAE;AAJ2B,GAAnC,EAF0B,CAS1B;;AACAP,EAAAA,CAAC,CAAC,WAAD,CAAD,CAAeQ,MAAf;AACD,CAXD;AAaAR,CAAC,CAAC,YAAU;AACZ;AACAA,EAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBS,EAAnB,CAAsB,OAAtB,EAA+B,UAAUC,CAAV,EAAa;AACxCA,IAAAA,CAAC,CAACC,cAAF;AACA,WAAO,IAAP;AACH,GAHD;AAIAX,EAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBG,OAAlB;AACC,CAPA,CAAD;AASAH,CAAC,CAAC,YAAY;AACZA,EAAAA,CAAC,CAAC,yBAAD,CAAD,CAA6BY,OAA7B;AACD,CAFA,CAAD;AAIA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,GAAG,GAAGb,CAAC,CAAC,QAAD,CAAX;AAEAA,CAAC,CAACc,MAAD,CAAD,CAAUC,MAAV,CAAiB,YAAW;AAC1B,MAAIf,CAAC,CAACc,MAAD,CAAD,CAAUE,SAAV,KAAwB,GAA5B,EAAiC;AAC/BH,IAAAA,GAAG,CAACI,QAAJ,CAAa,MAAb;AACD,GAFD,MAEO;AACLJ,IAAAA,GAAG,CAACK,WAAJ,CAAgB,MAAhB;AACD;AACF,CAND;AAQAL,GAAG,CAACJ,EAAJ,CAAO,OAAP,EAAgB,UAASC,CAAT,EAAY;AAC1BA,EAAAA,CAAC,CAACC,cAAF,GAD0B,CAE1B;;AACA,MAAIQ,QAAQ,GAAGnB,CAAC,CAACc,MAAD,CAAD,CAAUE,SAAV,EAAf;AACA,MAAII,KAAK,GAAG,CAAZ;AACA,MAAIC,QAAQ,GAAGrB,CAAC,CAACc,MAAD,CAAD,CAAUE,SAAV,KAAwBI,KAAvC;AACApB,EAAAA,CAAC,CAAC,YAAD,CAAD,CAAgBsB,OAAhB,CAAwB;AACtBN,IAAAA,SAAS,EAAE;AADW,GAAxB,EAEG,IAFH,EAES,OAFT,EAN0B,CAQP;AACpB,CATD;AAWA;AACA;AACA;AACA;AACA;;AACAhB,CAAC,CAACC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAU;AAC1BF,EAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwBS,EAAxB,CAA2B,kBAA3B,EAA+C,YAAU;AACvDT,IAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBO,IAAlB,CAAuB,yBAAvB;AACD,GAFD;AAGAP,EAAAA,CAAC,CAAC,oBAAD,CAAD,CAAwBS,EAAxB,CAA2B,kBAA3B,EAA+C,YAAU;AACvDT,IAAAA,CAAC,CAAC,cAAD,CAAD,CAAkBO,IAAlB,CAAuB,QAAvB;AACD,GAFD;AAGD,CAPD;AASA;AACA;AACA;AACA;AACA;AAEA;;AACA,IAAIgB,SAAS,GAAGvB,CAAC,CAAC,iBAAD,CAAD,CAAqBwB,QAArB,CAA8B;AAC5CC,EAAAA,eAAe,EAAE,KAD2B;AAE5CC,EAAAA,QAAQ,EAAE,KAFkC;AAG5CC,EAAAA,UAAU,EAAE,IAHgC;AAI5CC,EAAAA,OAAO,EAAE;AAJmC,CAA9B,CAAhB,C,CAMA;;AACA,IAAIC,KAAK,GAAGN,SAAS,CAACO,IAAV,CAAe,UAAf,CAAZ,C,CACA;;AACA9B,CAAC,CAAC,mBAAD,CAAD,CAAuBS,EAAvB,CAA2B,OAA3B,EAAoC,YAAW;AAC7Cc,EAAAA,SAAS,CAACC,QAAV,CAAmB,UAAnB;AACD,CAFD,E,CAGA;;AACAxB,CAAC,CAAC,eAAD,CAAD,CAAmBS,EAAnB,CAAuB,OAAvB,EAAgC,YAAW;AACzCc,EAAAA,SAAS,CAACC,QAAV,CAAmB,MAAnB;AACD,CAFD;AAIA;AACA;AACA;AACA;AACA;;AAEA,IAAIO,EAAE,GAAG/B,CAAC,CAAC,SAAD,CAAD,CAAagC,KAAb,EAAT;AACAhC,CAAC,CAAC,SAAD,CAAD,CAAaiC,GAAb,CAAiB;AAAC,YAASF,EAAE,GAAC;AAAb,CAAjB;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC,YAAM;AACL,eADK,CAEL;;AACA,MAAMG,OAAO,GAAGjC,QAAQ,CAACkC,sBAAT,CAAgC,YAAhC,CAAhB;AACAC,EAAAA,KAAK,CAACC,IAAN,CAAWH,OAAX,EAAoBI,GAApB,CAAwB,UAACC,IAAD,EAAU;AAChC;AACA,QAAMC,GAAG,GAAG,IAAIC,KAAJ,EAAZ;;AACA,QAAI3B,MAAM,CAAC4B,UAAP,CAAkB,uBAAlB,EAA2CC,OAA/C,EAAwD;AACtD;AACN;AACA;AACA;AACA;AACA;AACA;AACK,KARD,MAQO,IAAI7B,MAAM,CAAC4B,UAAP,CAAkB,oBAAlB,EAAwCC,OAA5C,EAAqD;AAC1D;AACAH,MAAAA,GAAG,CAACI,GAAJ,GAAUL,IAAI,CAACM,OAAL,CAAaC,MAAvB;;AACAN,MAAAA,GAAG,CAACO,MAAJ,GAAa,YAAM;AACjBR,QAAAA,IAAI,CAACS,SAAL,CAAeC,MAAf,CAAsB,YAAtB;AACA,eAAOV,IAAI,CAACW,QAAL,KAAkB,KAAlB,GACLX,IAAI,CAACK,GAAL,GAAWL,IAAI,CAACM,OAAL,CAAaD,GADnB,GAELL,IAAI,CAACY,KAAL,CAAWC,eAAX,sGAAyHb,IAAI,CAACM,OAAL,CAAaC,MAAtI,MAFF;AAGD,OALD;AAMD,KATM,MASA;AACL;AACAN,MAAAA,GAAG,CAACI,GAAJ,GAAUL,IAAI,CAACM,OAAL,CAAaD,GAAvB;;AACAJ,MAAAA,GAAG,CAACO,MAAJ,GAAa,YAAM;AACjBR,QAAAA,IAAI,CAACS,SAAL,CAAeC,MAAf,CAAsB,YAAtB;AACA,eAAOV,IAAI,CAACW,QAAL,KAAkB,KAAlB,GACLX,IAAI,CAACK,GAAL,GAAWL,IAAI,CAACM,OAAL,CAAaD,GADnB,GAELL,IAAI,CAACY,KAAL,CAAWC,eAAX,sGAAyHb,IAAI,CAACM,OAAL,CAAaD,GAAtI,MAFF;AAGD,OALD;AAMD;AAEF,GA/BD;AAgCD,CApCD;AAsCA;AACA;AACA;AACA;AACA;;;AAEA,CAAC,YAAM;AACL,eADK,CAEL;;AACA,MAAMV,OAAO,GAAGjC,QAAQ,CAACkC,sBAAT,CAAgC,kBAAhC,CAAhB;AACAC,EAAAA,KAAK,CAACC,IAAN,CAAWH,OAAX,EAAoBI,GAApB,CAAwB,UAACC,IAAD,EAAU;AAChC;AACA,QAAMC,GAAG,GAAG,IAAIC,KAAJ,EAAZ;;AACA,QAAI3B,MAAM,CAAC4B,UAAP,CAAkB,uBAAlB,EAA2CC,OAA/C,EAAwD;AACtDH,MAAAA,GAAG,CAACI,GAAJ,GAAUL,IAAI,CAACM,OAAL,CAAaQ,MAAvB;;AACAb,MAAAA,GAAG,CAACO,MAAJ,GAAa,YAAM;AACjBR,QAAAA,IAAI,CAACS,SAAL,CAAeC,MAAf,CAAsB,kBAAtB;AACA,eAAOV,IAAI,CAACW,QAAL,KAAkB,KAAlB,GACLX,IAAI,CAACK,GAAL,GAAWL,IAAI,CAACM,OAAL,CAAaD,GADnB,GAELL,IAAI,CAACY,KAAL,CAAWC,eAAX,4EAA+Fb,IAAI,CAACM,OAAL,CAAaQ,MAA5G,MAFF;AAGD,OALD;AAMD,KARD,MAQO,IAAIvC,MAAM,CAAC4B,UAAP,CAAkB,oBAAlB,EAAwCC,OAA5C,EAAqD;AAC1D;AACAH,MAAAA,GAAG,CAACI,GAAJ,GAAUL,IAAI,CAACM,OAAL,CAAaC,MAAvB;;AACAN,MAAAA,GAAG,CAACO,MAAJ,GAAa,YAAM;AACjBR,QAAAA,IAAI,CAACS,SAAL,CAAeC,MAAf,CAAsB,kBAAtB;AACA,eAAOV,IAAI,CAACW,QAAL,KAAkB,KAAlB,GACLX,IAAI,CAACK,GAAL,GAAWL,IAAI,CAACM,OAAL,CAAaD,GADnB,GAELL,IAAI,CAACY,KAAL,CAAWC,eAAX,4EAA+Fb,IAAI,CAACM,OAAL,CAAaC,MAA5G,MAFF;AAGD,OALD;AAMD,KATM,MASA;AACL;AACAN,MAAAA,GAAG,CAACI,GAAJ,GAAUL,IAAI,CAACM,OAAL,CAAaD,GAAvB;;AACAJ,MAAAA,GAAG,CAACO,MAAJ,GAAa,YAAM;AACjBR,QAAAA,IAAI,CAACS,SAAL,CAAeC,MAAf,CAAsB,kBAAtB;AACA,eAAOV,IAAI,CAACW,QAAL,KAAkB,KAAlB,GACLX,IAAI,CAACK,GAAL,GAAWL,IAAI,CAACM,OAAL,CAAaD,GADnB,GAELL,IAAI,CAACY,KAAL,CAAWC,eAAX,4EAA+Fb,IAAI,CAACM,OAAL,CAAaD,GAA5G,MAFF;AAGD,OALD;AAMD;AAEF,GA/BD;AAgCD,CApCD;AAsCA;AACA;AACA;AACA;AACA;;;AAEA5C,CAAC,CAAC,YAAW;AAEX,MAAIsD,GAAJ,EAASC,GAAT,EAAcC,GAAd,EAAmBC,WAAnB;AAEAzD,EAAAA,CAAC,CAAC,2BAAD,CAAD,CAA+B0D,KAA/B,CAAqC,YAAW;AAE9C;AAEAD,IAAAA,WAAW,GAAG,CAAd;AAEAH,IAAAA,GAAG,GAAGtD,CAAC,CAAC,IAAD,CAAP;AACA2D,IAAAA,EAAE,GAAIL,GAAG,CAACM,MAAJ,EAAN;AACAJ,IAAAA,GAAG,GAAGG,EAAE,CAACC,MAAH,EAAN;AACAL,IAAAA,GAAG,GAAGC,GAAG,CAACK,IAAJ,CAAS,4BAAT,CAAN,CAT8C,CAW9C;;AACAN,IAAAA,GAAG,CAACO,IAAJ,CAAS,YAAW;AAClBL,MAAAA,WAAW,IAAIzD,CAAC,CAAC,IAAD,CAAD,CAAQ+D,WAAR,EAAf;AACAC,MAAAA,MAAM,GAAGC,QAAQ,CAACjE,CAAC,CAAC,IAAD,CAAD,CAAQiC,GAAR,CAAY,eAAZ,CAAD,EAA+B,EAA/B,CAAjB;AACAwB,MAAAA,WAAW,GAAGA,WAAW,GAAGO,MAA5B;AACD,KAJD;AAMAP,IAAAA,WAAW,GAAGA,WAAW,GAAGO,MAA5B;AAEAR,IAAAA,GAAG,CACAvB,GADH,CACO;AACH;AACA,gBAAUuB,GAAG,CAACU,MAAJ,EAFP;AAGH,oBAAc;AAHX,KADP,EAMG5C,OANH,CAMW;AACP,gBAAUmC;AADH,KANX,EApB8C,CA8B9C;;AACAE,IAAAA,EAAE,CAACQ,OAAH,GA/B8C,CAiC9C;;AACA,WAAO,KAAP;AAED,GApCD;AAsCD,CA1CA,CAAD","sourcesContent":["$(document).ready(function(){\n  // popover\n  $(\"[data-toggle=popover]\").popover({\n    placement: 'top',\n    container: 'body',\n    trigger: 'focus',\n    html: true\n  });\n\n  // Lazy Image //\n  $(\".img-lazy\").unveil();\n});\n\n$(function(){\n// prevents jumping\n$(\"a.pop-me-over\").on(\"click\", function (e) {\n    e.preventDefault();\n    return true;\n});\n$(\".pop-me-over\").popover();\n});\n\n$(function () {\n  $('[data-toggle=\"tooltip\"]').tooltip()\n})\n\n/*\n################\n               Button UP\n################\n*/\n\nvar btn = $('#btnup');\n\n$(window).scroll(function() {\n  if ($(window).scrollTop() > 300) {\n    btn.addClass('show');\n  } else {\n    btn.removeClass('show');\n  }\n});\n\nbtn.on('click', function(e) {\n  e.preventDefault();\n  //console.log($(window).scrollTop());\n  var distance = $(window).scrollTop();\n  var speed = 2;\n  var duration = $(window).scrollTop() / speed;\n  $('html, body').animate({\n    scrollTop: 0\n  }, 2000, 'swing'); // for all browsers\n});\n\n/*\n################\n               Collapse button\n################\n*/\n$(document).ready(function(){\n  $(\"#collapseProximity\").on(\"hide.bs.collapse\", function(){\n    $(\"#btn-ranking\").html('Voir tout le classement');\n  });\n  $(\"#collapseProximity\").on(\"show.bs.collapse\", function(){\n    $(\"#btn-ranking\").html('Fermer');\n  });\n});\n\n/*\n################\n               Flickity\n################\n*/\n\n// init Flickity\nvar $carousel = $('.carousel-cards').flickity({\n  prevNextButtons: false,\n  pageDots: false,\n  freeScroll: true,\n  contain: true\n});\n// Flickity instance\nvar flkty = $carousel.data('flickity');\n// previous\n$('.button--previous').on( 'click', function() {\n  $carousel.flickity('previous');\n});\n// next\n$('.button--next').on( 'click', function() {\n  $carousel.flickity('next');\n});\n\n/*\n################\n                no-img (votes controller)\n################\n*/\n\nvar cw = $('.no-img').width();\n$('.no-img').css({'height':cw+'px'});\n\n/*\n################\n                async_home\n################\n*/\n\n(() => {\n  'use strict';\n  // Page is loaded\n  const objects = document.getElementsByClassName('async_home');\n  Array.from(objects).map((item) => {\n    // Start loading image\n    const img = new Image();\n    if (window.matchMedia(\"(max-width: 575.98px)\").matches) {\n      /*img.src = item.dataset.mobile;\n      img.onload = () => {\n        item.classList.remove('async_background');\n        return item.nodeName === 'IMG' ?\n          item.src = item.dataset.src :\n          item.style.backgroundImage = `linear-gradient(130deg, rgba(0, 183, 148, 0.7) 0.65%, rgba(36, 107, 150, 0.7) 112%), url(${item.dataset.mobile})`\n      }; */\n    } else if (window.matchMedia(\"(max-width: 970px)\").matches) {\n      // Once image is loaded replace the src of the HTML element\n      img.src = item.dataset.tablet;\n      img.onload = () => {\n        item.classList.remove('async_home');\n        return item.nodeName === 'IMG' ?\n          item.src = item.dataset.src :\n          item.style.backgroundImage = `linear-gradient(130deg, rgba(0, 183, 148, 0.7) 0.65%, rgba(36, 107, 150, 0.7) 112%), url(${item.dataset.tablet})`\n      };\n    } else {\n      // Once image is loaded replace the src of the HTML element\n      img.src = item.dataset.src;\n      img.onload = () => {\n        item.classList.remove('async_home');\n        return item.nodeName === 'IMG' ?\n          item.src = item.dataset.src :\n          item.style.backgroundImage = `linear-gradient(130deg, rgba(0, 183, 148, 0.7) 0.65%, rgba(36, 107, 150, 0.7) 112%), url(${item.dataset.src})`\n      };\n    }\n\n  });\n})();\n\n/*\n################\n                async_background\n################\n*/\n\n(() => {\n  'use strict';\n  // Page is loaded\n  const objects = document.getElementsByClassName('async_background');\n  Array.from(objects).map((item) => {\n    // Start loading image\n    const img = new Image();\n    if (window.matchMedia(\"(max-width: 575.98px)\").matches) {\n      img.src = item.dataset.mobile;\n      img.onload = () => {\n        item.classList.remove('async_background');\n        return item.nodeName === 'IMG' ?\n          item.src = item.dataset.src :\n          item.style.backgroundImage = `linear-gradient(rgba(0, 0, 0, 0.55), rgba(0, 0, 0, 0.65)), url(${item.dataset.mobile})`\n      };\n    } else if (window.matchMedia(\"(max-width: 970px)\").matches) {\n      // Once image is loaded replace the src of the HTML element\n      img.src = item.dataset.tablet;\n      img.onload = () => {\n        item.classList.remove('async_background');\n        return item.nodeName === 'IMG' ?\n          item.src = item.dataset.src :\n          item.style.backgroundImage = `linear-gradient(rgba(0, 0, 0, 0.55), rgba(0, 0, 0, 0.65)), url(${item.dataset.tablet})`\n      };\n    } else {\n      // Once image is loaded replace the src of the HTML element\n      img.src = item.dataset.src;\n      img.onload = () => {\n        item.classList.remove('async_background');\n        return item.nodeName === 'IMG' ?\n          item.src = item.dataset.src :\n          item.style.backgroundImage = `linear-gradient(rgba(0, 0, 0, 0.55), rgba(0, 0, 0, 0.65)), url(${item.dataset.src})`\n      };\n    }\n\n  });\n})();\n\n/*\n################\n                Read more\n################\n*/\n\n$(function() {\n\n  var $el, $ps, $up, totalHeight;\n\n  $(\".read-more-container .btn\").click(function() {\n\n    // IE 7 doesn't even get this far. I didn't feel like dicking with it.\n\n    totalHeight = 0\n\n    $el = $(this);\n    $p  = $el.parent();\n    $up = $p.parent();\n    $ps = $up.find(\"p:not('.read-more-button')\");\n\n    // measure how tall inside should be by adding together heights of all inside paragraphs (except read-more paragraph)\n    $ps.each(function() {\n      totalHeight += $(this).outerHeight();\n      margin = parseInt($(this).css(\"margin-bottom\"), 10);\n      totalHeight = totalHeight + margin;\n    });\n\n    totalHeight = totalHeight - margin;\n\n    $up\n      .css({\n        // Set height to prevent instant jumpdown when max height is removed\n        \"height\": $up.height(),\n        \"max-height\": 9999\n      })\n      .animate({\n        \"height\": totalHeight\n      });\n\n    // fade out read-more\n    $p.fadeOut();\n\n    // prevent jump-down\n    return false;\n\n  });\n\n});"],"file":"main.js"}